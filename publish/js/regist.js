"use strict";var username=document.getElementById("username"),password=document.getElementById("password"),password1=document.getElementById("password1"),usernameTips=document.getElementById("usernameTips"),passwordTips=document.getElementById("passwordTips"),password1Tips=document.getElementById("password1Tips"),submitBtn=document.getElementById("submitBtn"),username_lock=!1,password_lock=!1;username.onblur=function(){var e=username.value,s=/^[^\d]\w{6,13}$/.test(e);usernameTips.innerHTML=s?"":"×",usernameTips.style.color=s?"":"red",s?QF.get(xhr.baseUrl+"php/checkusername.php",{username:e},function(e){console.log(e),e.error?(username_lock=!1,usernameTips.innerHTML="×",usernameTips.style.color="red"):(username_lock=!0,usernameTips.innerHTML="√",usernameTips.style.color="green")}):username_lock=!1},password.onfocus=function(){password1.value="",password1Tips.innerHTML=""},password.onblur=function(){var e=password.value,s=/^\w{8,16}$/;passwordTips.innerHTML=s.test(e)?"√":"×",passwordTips.style.color=s.test(e)?"green":"red"},password1.onblur=function(){var e=password.value,s=password1.value;if(!/^\w{8,16}$/.test(s))return password_lock=!1,password1Tips.innerHTML="×",void(password1Tips.style.color="red");password1Tips.innerHTML=e===s?"√":"×",password1Tips.style.color=e===s?"green":"red",password_lock=e===s},submitBtn.onclick=function(){var e,s;username_lock&&password_lock?(e=username.value,s=password.value,QF.post(xhr.baseUrl+"php/regist.php",{username:e,password:s},function(e){console.log(e),e.error?alert(e.msg):setTimeout(function(){location.href="../index.html"},500)})):alert("请重新检查")};