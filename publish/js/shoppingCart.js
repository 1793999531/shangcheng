"use strict";!function(){var c=document.getElementById("tbody"),o=JSON.parse(localStorage.getItem("cart_info"))||{},t=document.getElementById("allCheck"),n=!1,d=0;function e(){for(var t in d=0,n=!1,o)d+=parseInt(o[t].goods_price)*parseInt(o[t].cart_number)}function a(){localStorage.setItem("cart_info",JSON.stringify(o)),n&&e(),r()}function r(){var t,e="";for(t in o)console.log(o[t].check),e+='\n            <tr class="text-center">\n                <td><input type="checkbox" class="checkbox" data-id="'+o[t].goods_id+'" '+o[t].check+"></td>\n                <td>"+o[t].cat_three_id+"</td>\n                <td>"+o[t].goods_name+"</td>\n                <td>"+o[t].goods_price+"</td>\n                <td>"+o[t].cart_number+'</td>\n                <td>\n                    <input type="button" value="+" data-id="'+o[t].goods_id+'" class="plus">\n                    <input type="button" value="-" data-id="'+o[t].goods_id+'" class="reduce">\n                    <input type="button" value="&times" data-id="'+o[t].goods_id+'" class="del">\n                </td>\n            </tr>\n            ';c.innerHTML=e,$("#total").text("总价："+d+"￥")}function i(t){if(!t){var e,c,n=!1;for(c in o)o[c].check||(n=!0);for(c in e=n?"checked":"",console.log(e),o)o[c].check=e}r()}c.onclick=function(t){var e=t.target.getAttribute("data-id"),t=t.target.className;console.log(t,e),e&&"plus"===t?(n=!0,o[e].cart_number++):e&&"reduce"===t&&1<o[e].cart_number?(n=!0,o[e].cart_number--):"checkbox"===t?(o[e].check?o[e].check="":o[e].check="checked",i(!0)):"del"===t&&(n=!0,delete o[e]),a()},t.onclick=function(){i()},$("#selectDel").click(function(){for(var t in o)o[t].check&&delete o[t];n=!0,a()}),e(),r()}();